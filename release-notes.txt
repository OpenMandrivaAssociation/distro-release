2014.0 Final Release


   Contents

        * [9]1 2014.0 Final Release
        * [10]2 Available Media
             + [11]2.1 Recommended Hardware
             + [12]2.2 EFI BOOT
             + [13]2.3 Booting from USB
             + [14]2.4 Booting with KVM
             + [15]2.5 Booting with VirtualBox
        * [16]3 New Features and Major Changes
             + [17]3.1 EFI BOOT
             + [18]3.2 Boot process
             + [19]3.3 Kernel
             + [20]3.4 Desktop
                  o [21]3.4.1 Supported desktop environment
             + [22]3.5 Xorg
             + [23]3.6 KDE 4.12.4
             + [24]3.7 LibreOffice-4.2.3.3
             + [25]3.8 Firefox 29
             + [26]3.9 JAVA
             + [27]3.10 Printing:
             + [28]3.11 Server:
             + [29]3.12 Upgrading to 2014.0
                  o [30]3.12.1 Upgrading from OpenMandriva Lx-2013.0 Release
                  o [31]3.12.2 Upgrading from 2011.0
             + [32]3.13 Media "Contrib"
             + [33]3.14 Media "restricted"
        * [34]4 Unavailable
             + [35]4.1 DrakX Installer
        * [36]5 Changes to Hardware Support
             + [37]5.1 Graphics Support
                  o [38]5.1.1 NVIDIA Graphics Cards
                  o [39]5.1.2 ATI Graphics Cards
                  o [40]5.1.3 Intel Graphics Cards
                  o [41]5.1.4 Miscellaneous Graphic Cards .
        * [42]6 Changes to Installation
             + [43]6.1 Unused Hardware & Language Removal
        * [44]7 Changes to the DrakX suite of tools
        * [45]8 Changes to Software Support
             + [46]8.1 Booting with systemd
        * [47]9 Other Changes
             + [48]9.1 Monitor EDID Loading
        * [49]10 Errata
             + [50]10.1 Booting Live DVD/USB
             + [51]10.2 Non-Functional Tools
             + [52]10.3 Partitioning with Small Disks
             + [53]10.4 Console has incorrect keyboard
                  o [54]10.4.1 KDE DESKTOP
             + [55]10.5 Black Screen at Boot
             + [56]10.6 Boot to a dracut prompt
        * [57]11 Contact, Bug Reporting, Discussion
        * [58]12 Helping the Project

   The OpenMandriva Lx teams are pleased to announce the availability of
   the 2014.0 Final release!

   Detailed below are some of the advances that the distribution has
   incorporated since OpenMandriva Lx 2013.

Available Media

   This release is available as a live media DVD, downloadable in ISO
   format. These are available on our downloads page.

   Live media means you're able to run OpenMandriva Lx straight from a DVD
   or memory stick (See Below) and try it before installing it. You may
   also install the system to hard disk either from the running live image
   or from the boot manager.

Recommended Hardware

   Please note the recommended hardware requirements have changed; To run
   the installed distribution, we recommend 1 GB of memory (min 640MB), at
   least 10 GB of hard drive space (see below for known issues with
   partitioning), and for best compositing performance a suitable
   accelerated 3D graphics card.

   To run the live distribution (Grub Option 1) The minimum memory
   requirement is 1.5GB of memory but 2GB is recommended. Releases are
   available for i586 and x86_64 architectures. ARM architectures are not
   available for this release.

   The same hardware requirements apply when running in virtual machines
   Note that in Qemu you may need to select one of the alternative
   graphics drivers or you will boot to a black screen

EFI BOOT

   This is the first release of OpenMandriva Lx that incorporates working
   support for EFI booting. We have only been able to perform limited
   testing on this feature and would welcome feedback on user experience.
   It should be possible to boot the live system on the majority of
   machines with installation your mileage may vary. Please file bug
   reports at issues.openmandriva.org

Booting from USB

   It is also possible to boot this release from a USB storage device. To
   transfer the live/installation you may use the ROSA Image Writer
   available from our repos:
urpmi rosa-imagewriter

   as a static binary:
   [59]Linux 32-bit
   [60]Linux 64-bit

   There is also a [61]Windows binary, working out of box. Just download
   it and write iso. with a download of the OpenMandriva Lx ISO for your
   system to make your USB bootable. At least 2GB of flash drive capacity
   is recommended. Persistent storage is not necessary. Note that this
   will erase everything on your USB!

   Alternatively the dd command may be used with the general form "dd
   if=<iso_name> of=</dev/sd<x> BS=4M where x = The device letter i.e.
   /dev/sdb

Booting with KVM

   Please use the QXL or VMWare video driver to avoid any problems booting
   OpenMandriva LX with kernel 3.11.5 or higher.

Booting with VirtualBox

   Please note that there is an increased memory requirement for
   successful booting in this VM manager. The virtual machine should be
   set up with a minumum of 1536mb.

   Due to a recent API change, 4.2.x series of vboxadditions will not
   work. Instead, use 4.3.x series which is known to work with this
   release

   Workaround: Upgrade to VirtualBox 4.3 or later

   Plymouth Coredumps: You may receive a message from plymouth indicating
   that it has coredumped. The system will however continue to boot
   successfully.

   If you wish to avoid this message please edit /boot/grub2.cfg and add
   plymouth.enable = 0 to the end of the boot line. This will disable
   plymouth completely.

New Features and Major Changes

   The introduction of OpenMandriva Lx 2014.0 represents a major update
   from the previous version of OpenMandriva Lx, and is also the second
   release under the community of the OpenMandriva Association. With that
   in mind, here are some of the new features:

EFI BOOT

   This is the first release of OpenMandriva Lx that incorporates working
   support for EFI booting.

   We have only been able to perform limited testing on this feature and
   would welcome feedback on user experience.

Boot process

   dracut 037 with special setup for rapid booting.

   systemd 208 version with latest patches from systemdstable upstream git
   branch.

   initscripts 9.52 with support for NetworkManager

Kernel

   The kernel has been upgraded to 3.13.11 nrjQL – a powerful variant of
   the 3.13.11 kernel that has been configured with desktop system
   performance and responsiveness in mind.

   To achieve this the CPU and RCU have been configured with full
   preemption and boost mode, and the CK1 and BFQ patchsets have been
   added to provide further optimisations including better CPU load and
   disk I/O schedulers, an improved memory manager using UKSM, and
   TuxOnIce providing suspension and hibernation services.

   SQUASHFS_MULTI_DECOMPRESSOR within the kernel supports the use of all
   available CPU’s for faster booting of Live Images.

   Some very recent USB patches that partially correct a misinterpretation
   of the USB standard will improve device compatibility and also ensure
   that devices re-awake properly after suspend or hibernate.

   NFS has also received some attention with patches that will give faster
   start up of the NFS services.

   This is first kernel version where we have enabled two new kernel keys
   to test the “EDID ovverride” feature, with this we should be able to
   override an incorrect screen EDID with boot time options, we have
   included EDIDBINS in the ISOs, a package containing 5 basic firmwares
   for the most common resolutions so that users may force different
   resolutions than the ones detected automatically by X.

   The CONFIG_ACPI_CUSTOM_DSDT key allows loading of a customised acpi
   table. Details will be found on our Wiki in the kernel pages.

Desktop

   A new OMA-Welcome application which allows quick and easy set up of a
   your newly installed system.

Supported desktop environment

   Currently we support KDE desktop environment. Others like LXDE, Gnome2,
   Gnome3, Xfce4 are not supported yet.

Xorg

   The system provides version 1.15.1 of the x11-server and Mesa release
   10.1.1. bringing the latest free drivers for the best performance. An
   Compose cache is now incorporated which speeds up application startup
   time and reduces memory usage especially in locales with large Compose
   tables (e.g. all UTF-8 locales).

   Xorg Tip.

   Change the composite manager from XRender to OpenGL mode. This gives
   transparency the proper blur effect. This allows OMA Theme and the
   HomeRun menu and it's decorationsis to be shown at their best

KDE 4.12.4

   With a new menu launcher – Homerun The default is a full screen
   version, but a more classical menu may be selected if desired

   Featuring Plasma-nm applet for easy management of network connections

   Plasma-media-center: A new easy interface for playing your favourite
   media.

   The latest kio-mtp for MTP support; the same for PTP support.

   libimobiledevice stack that supports Apple devices up to iOS7

LibreOffice-4.2.3.3

   The latest LibreOffice featuring much faster load times and many bug
   fixes.

Firefox 29

   The latest firefox with it's new graphical interface and all the latest
   features.

   Firefox Tip:

   Setting suspend desktop effects for full screen windows speeds up
   scrolling in firefox when it is maximized.

JAVA

   The OpenMandriva Java stack has been entirely rebuilt and has all the
   functionality required to run the powerful development environment
   Eclipse of which we provide the latest version (Kepler).

Printing:

   HPlip software updated to 3.14.3 version. CUPS software updated to
   1.7.2 version.

Server:

   A move from MySQL to the fully compatible Open Source MariaDB 10.0

Upgrading to 2014.0

   Upgrading between releases always has the potential to cause some
   problems. Upgrading is supported and we do test upgrades, but due to
   the huge range of packages and hardware configurations that are
   possible, thus in some situations, the upgrade may cause problems that
   were not anticipated. Therefore we recommend that you always perform a
   fully back up your system prior to any upgrading attempt. In particular
   be aware that upgrading between MDV-based packages and OMV-based
   packages may be the most problematic and should be avoided if possible.

   We hope that upgrading between OpenMandriva releases will become less
   problematic in the near future.

Upgrading from OpenMandriva Lx-2013.0 Release

   Please use the following commands while logged in at a root terminal
   instance:-
urpmi.removemedia -a

urpmi.addmedia --distrib --mirrorlist 'http://downloads.openmandriva.org/mirrors
/openmandriva.2014.0.ARCH.list'

   Substitute ARCH with your architecture, e.g. i586 or x86_64.

   Then run the following commands:
urpmi --auto --auto-select --replacefiles 2>&1 | tee upgrade.log

Upgrading from 2011.0

   We do not currently have an official way to update this from the GUI,
   as our tool is not ready yet.

   With the caveats mentioned above, you can still accomplish this upgrade
   from the command line. To do this, first ensure your system is entirely
   up-to-date with the latest updates for your current version of the
   distribution (using either MandrivaUpdate, Mandriva Online (Mandriva
   update notification applet) or urpmi --auto-update}}.

   Then remove your existing repositories, either using the graphical
   repository configuration tool or the urpmi.removemedia command.
   urpmi.removemedia -a will remove all repositories. Then you should add
   repositories for this release. Run a command like this:
urpmi.addmedia --distrib --mirrorlist 'http://downloads.openmandriva.org/mirrors
/openmandriva.2014.0.ARCH.list'

   Substitute ARCH with your architecture, e.g. i586 or x86_64.

   Then run the following commands, as root:
urpmi --auto --auto-select --replacefiles 2>&1 | tee upgrade.log

   You may see an error "unknown option --replacefiles" when you first run
   this, but don't worry, that's normal: older urpmi versions do not have
   this option, but our urpmi does, and it will be passed along to our
   urpmi when the urpmi process is restarted after the package has been
   updated. This will save the output of the process to the file
   upgrade.log, in case you need to check it later, or you have any
   problems. Once the process completes, you should reboot immediately,
   and you should find the system has been fully updated to this version.

Media "Contrib"

   Recently a new contributor to OpenMandriva has placed some interesting
   packages in our Contrib repository a few examples are xt7-player, the
   lightest gui for mplayer and Bino which allows you play with 3d movies
   if you have the technology (Red and Green lensed glasses :) ). The
   Contrib repository is gradually being updated and rebuilt but this is a
   major task and will take some time.

Media "restricted"

   This is where non free libraries that aren't installed by default are
   kept. For example, playing mp4 videos with VLC needs libfaad2_2 which
   can be installed after having added all set of media.

   You will also find in this repository some of the famous PLF builds
   which enable additional functionality to some programs not included in
   the main release repositories.

Unavailable

DrakX Installer

   The DrakX Installer is not included in this release. We hope to include
   it (or a new installer that brings back its features) in later
   releases.

   Please note though that the various tasks that installed batches of
   software that were available in the old installer may still be used
   either through the OpenMandriva Tools or though the command line with
   urpmi.

   These tasks may be listed by running 'urpmq --fuzzy task-'. Use these
   compilations at your own risk as they are not all currently maintained.

   Some tasks such as task-games may require the addition of the the 32bit
   repositories for successful installation

   Please also note that some tasks may pull packages from the contrib
   repository. Currently many of the packages in contrib have incorrect
   signatures. This is a known issue and you should not report incorrectly
   signed packages as a bug. This problem will be addressed post release
   when our build farm will have a quieter period so that the processor
   intensive resigning process can be run.

Changes to Hardware Support

Graphics Support

   Graphics support has improved with the latest drivers however there are
   still issues with some hardware.

NVIDIA Graphics Cards

   NVidia graphics cards are all currently supported by the XFDrake, the
   DrakX video configuration tool. In some cases it may be necessary to
   install older drivers using the command line. These drivers are
   available from the OpenMandriva repositories. The reverse engineered
   nouveau driver gives moderately good support for these older cards and
   for some dual-screen work(Publishing) it is actually better as it
   supports screen rotation on a second monitor which is useful for
   monitors with rotatable screens.

ATI Graphics Cards

   The latest ATI graphics cards are supported; however, we have not had
   any concrete feedback about its usage. Your mileage may vary.

   If you are using Radeon HD7770 or if you experience a black screen at
   boot and you know that you have an ATI/AMD grahics card please add the
   command below to the grub2 cmdline:-
xorg.blacklist=ati

   To do this at when booting the iso press the "TAB" key; the kernel
   bootline will be displayed at the bottom of the screen, go to the end
   of it and add any options required there. Press enter to boot. If you
   need to enter a kernel parameter while boot an installed system the
   procedure is slightly different. At the boot screen press the "E" key
   and this will bring up the Grub editor. Search for the first line that
   begins with "linux" go to the end of it and add the option there. To
   boot press F10.

Intel Graphics Cards

   Intel graphics cards are supported with the latest kernel we have,
   including newer 4th generation Intel graphics cards.

Miscellaneous Graphic Cards .

   We have not had feedback from users. Should you have an unusual
   graphics card that is not performing as it should please file a bug at
   issues.openmandriva.org

Changes to Installation

Unused Hardware & Language Removal

   This feature has been re-enabled and may be invoked from the
   OMA-Welcome application.

Changes to the DrakX suite of tools

   Boot configuration features a new application kcm-grub2 which give
   greater flexibility of choice in boot options. DrakX has been
   overhauled and now installs the proprietary drivers correctly By
   default firewall-config is used in favour of drakfirewall.

Changes to Software Support

Booting with systemd

   Systemd has now been moved into the initramfs and the result is
   super-fast booting. Switching runlevels has changed. Instead of adding
   the target runlevel, as before, there are now specific boot options.
   Namely, the following options must be appended to the kernel command
   line:
     * Rescue Mode: systemd.unit=rescue.target
     * Text Mode: systemd.unit=multi-user.target
     * Graphical Mode: systemd.unit=graphical.target

Other Changes

Monitor EDID Loading

   This is first kernel version where two new kernel keys have been
   enabled. The "EDID ovverride" feature is now available and allows
   monitor with incorrect (or no) EDID to be enabled at kernel boot A
   package "edidbins" has been included in the ISOs which provided five
   binary files to support the most common resolutions. These may be
   called from the kernel command line at boot such that screen resolution
   may be force to that which the user desires. Obviously a facility like
   this should be used with care as it has the potential to damage your
   monitor. In order to enable one of the supplied edid's you need to add
   the following line to your kernel command line
   "drm_kms_helper.edid_firmware=edid/1280x1024.bin" obviously you can
   select your resolution from those supplied which are.

   1024x768 1280x1024 1600x1200 1680x1050 1920x1000

   As things currently stand these resolutions are available as soon as
   the root directory is mounted. If you want these resolutions for
   plymouth then you will need to incorporate the edid binary file in the
   initramfs. Dracut the image builder does not currently support this.
   The current approach would be to unpack the initramfs, add the
   necessary files and then repack.

Errata

   As with any release, there are still issues and bugs that may not have
   been resolved. This page documents those that may cause inconvenience
   and where possible details how they may be worked around.

Booting Live DVD/USB

   If you have a problem booting the live image with some hardware please
   report a bug detailing your hardware and any observations that you make
   if you are affected by this problem. Please also see Black Screen at
   Boot

Non-Functional Tools

   Parental Controls are currently non-functional#'

Partitioning with Small Disks

   When using the custom partitioning tool to divide up the hard disk/s be
   aware that there is a minimum size requirement a root partition that
   contains the /usr directory of at least 5.0Gb. If the partition is made
   smaller that this the partition manager will not function correctly.
Due to the adoption of systemd the use of a separate /usr partition is [62]no lo
nger possible.
It is still permissible to have a separate /usr/local partition.

   Workaround: If you receive an error message stating that the partition
   is smaller than the minimum requirement then do not try to resize it as
   this will fail; instead, use the auto-allocate function which will
   automatically create a partitioning scheme for you, which you may then
   delete or change to suit your own requirements. This will clear the
   error.

Console has incorrect keyboard

   If you still have problem with virtual console incorrect language
   setting, keyboard map or font, first run localedrake and then
   keyboraddrake. After choosing your local setting make sure to reboot.
   In /etc/default/grub - GRUB_CMDLINE_LINUX_DEFAULT you should have
   these:
vconsole.keymap=<yourkeymap> locale.LANG=<yourLANG>

   If problem is font map related then add to cmdline through grub2's
   /etc/default/grub - GRUB_CMDLINE_LINUX_DEFAULT:
vconsole.font.map=<yourfontmap>

   For instance: vconsole.font.map=8859-2

KDE DESKTOP

   You may find that the network icon disappears when you reboot after
   creating a new user. If you find thios is the case should should
   re-enable it by right-clicking on the system tray in the panel,
   unlocking the widgets and under the list of extra items setting a tick
   in Network Managment and then clicking on the apply button.

   The default setting for the French keyboard have changed see here for a
   discussion. [63]https://issues.openmandriva.org/show_bug.cgi?id=608

Black Screen at Boot

   Graphics Drivers:

   There is an issue with systems that have two different graphics
   adapters but only one of them is operational. Typically this is a
   Nvidia GPU combined the either Intel or AMD/ATI. Due to the automated
   nature of driver selection in modern systems if the non-functional GPU
   is automatically selected then X will load the matching driver. Thus
   the working GPU never gets setup resulting in a black screen. We have
   recently added a new boot command line option to allow an Xorg driver
   to be blacklisted thus allowing the correct driver to be detected.

   To use this feature you must edit the grub2 command line. You can do
   this by selecting your desired boot option and then pressing TAB. To
   the end of the line add the following:-
xorg.blacklist=<driver to blacklist>

   To determine which driver needs to be blacklisted is probably best
   achieved by booting the system to a text mode and checking which driver
   has been loaded at boot time. A procedure for doing this is detailed
   below. In some circumstances this may not be possible and you will need
   to resort to your motherboard/Graphics card specifications or trial and
   error. It will be necessary to permanently add the line to the grub2
   command line that boots the installation. This is described below.

   There are other circumstances where a black screen may be encountered.
   For example if you wish to use the proprietary driver for your graphics
   adapter it may be necessary to inhibit the kernel mechanism that loads
   the free drivers. In these circumstances adding
nomodeset

   or
nokmsboot

   to the kernel command line will normally be enough to allow
   installation of the OS or running with the manufacturers drivers . If
   necessary the command may be added permanently by editing
   /etc/default/grub at the GRUB_CMDLINE_LINUX_DEFAULT label and adding
   the required command. Then run update-grub2

   To boot to text mode:-

   1: Boot from the DVD/USB stick and at the grub selection screen select
   the livecd option and press TAB. Edit the grub command line by and add
   the command
"systemd.unit=multi-user.task nomodeset"

   to the end and boot the machine. This will bring you to a command
   prompt where you can login.

   2: Login as root and then type lsmod | less and observe the output.
   Look for the loaded graphics driver by finding the drm entry the
   graphics driver will be listed here. It will be typically nouveau,
   radeon or i915 (there may be others). The name used here will be the
   name to add to the xorg.blacklist= parameter

   Backlight Issues

   There are some machines with Intel GPU's (Netbooks particularly) that
   may still give a black screen even with everything set up correctly;
   this is due to the screen backlight logic being inverted. This may be
   fixed by adding i915.invert_brightness=1 parameter to the boot command
   line. This may be needed in addition to the xorg.blacklist= parameter.

   Incorrect tty

   On boot it may be found that you are presented with terminal screen
   rather that the normal graphical login, In this case you may need to
   switch ttys (terminal); you can do this by pressing alt+ctrl+F7 if you
   still have no graphical login try using the same key cobination but
   with a different function key. Key F1-F7 are all different ttys
   (terminals). Please report a bug for this problem noting your what
   hardware you are running on.

Boot to a dracut prompt

   If this happens all is not lost. This may be indicative of the lack of
   disk driver for your hardware. Dracut indicates that it has produced a
   bug report which you can copy to a memory stick and then attach to a
   bug report you will need to mount your memory stick. Assuming it is FAT
   formatted then plug it in and type 'dmesg' the device name of your
   memory stick should be visible it will be in the form /dev/sd<x> the
   bracketed x will vary depending on how many drives have been found on
   your machine if for example you have one other drive then the entry
   might read /dev/sdb. Create a new directory /mnt with 'mkdir /mnt' then
   type 'mount -t vfat /dev/sdb1 /mnt' and the drive should be mounted.
   (Note the 1 added to the device name). You should then be able to copy
   files to your memory stick with 'cp <files> /mnt/' . Please take the
   trouble to report this type of problem as receiving these reports is
   the only way we can improve our distribution.

Contact, Bug Reporting, Discussion

   You are invited to discuss this release on:
     * [64]Official forum
     * [65]Official Mailing Lists
     * [66]IRC

   Please report bugs to our [67]bugtracker. A new tool is available to
   allow you to provide maintainers with comprehensive diagnostic
   information with little effort. The RPM package omv-bug-report is
   installed by default. Running the omv-bug-report.sh script as root will
   generate a compressed archive that can be attached to a bug or mailed
   to a maintainer and will greatly assist them in the diagnosis of the
   problem being reported.

Helping the Project

   As always, the OpenMandriva development teams (Cooker & QA) are always
   looking for new contributors to assist in creating and maintaining
   packages and to assist bugfixing and testing. You are welcome to join
   us and help us in this work which is not only rewarding but also
   tremendous fun!

   If you feel that your talents do not lie in the realm of software then
   the OpenMandriva Workshop group, which is made up from the artwork,
   documentation, translation and Communication teams, is always open for
   the submissions of artwork and translations. New contributors who would
   like to help with these wide-ranging tasks should see our wiki
   (wiki.openmandriva.org) for more details, and to learn how to join!.
   Alternatively you may sign up to the mailing lists available [68]here

   AND

   Finally if you love using our system but don't have the time to help
   you can always give us a donation to help keep our servers up and
   running you can do this here > [69]DONATE
